"use client"
import React from 'react'
import styles from './index.module.scss'
import Link from 'next/link'
import { motion, AnimatePresence } from "framer-motion";
import { Context } from '@/store/provider';

export default function MobileBar() {
  const { store } = React.useContext(Context)
  const [create, setCreate] = React.useState(false)
  const [more, setMore] = React.useState(false)


  return (
    <>

      <div className={styles.wrap}>

        <div className={styles.links}>
          <Link href='/requests/' className={styles.link}>
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M2.5875 3.6001C2.09044 3.6001 1.6875 4.00304 1.6875 4.5001C1.6875 4.99715 2.09044 5.4001 2.5875 5.4001H2.6625C3.15956 5.4001 3.5625 4.99715 3.5625 4.5001C3.5625 4.00304 3.15956 3.6001 2.6625 3.6001H2.5875ZM2.5875 8.1001C2.09044 8.1001 1.6875 8.50304 1.6875 9.0001C1.6875 9.49715 2.09044 9.9001 2.5875 9.9001H2.6625C3.15956 9.9001 3.5625 9.49715 3.5625 9.0001C3.5625 8.50304 3.15956 8.1001 2.6625 8.1001H2.5875ZM1.6875 13.5001C1.6875 13.003 2.09044 12.6001 2.5875 12.6001H2.6625C3.15956 12.6001 3.5625 13.003 3.5625 13.5001C3.5625 13.9972 3.15956 14.4001 2.6625 14.4001H2.5875C2.09044 14.4001 1.6875 13.9972 1.6875 13.5001ZM6.75 3.7501C6.33579 3.7501 6 4.08588 6 4.5001C6 4.91431 6.33579 5.2501 6.75 5.2501H15.75C16.1642 5.2501 16.5 4.91431 16.5 4.5001C16.5 4.08588 16.1642 3.7501 15.75 3.7501H6.75ZM6.75 8.2501C6.33579 8.2501 6 8.58588 6 9.0001C6 9.41431 6.33579 9.7501 6.75 9.7501H15.75C16.1642 9.7501 16.5 9.41431 16.5 9.0001C16.5 8.58588 16.1642 8.2501 15.75 8.2501H6.75ZM6.75 12.7501C6.33579 12.7501 6 13.0859 6 13.5001C6 13.9143 6.33579 14.2501 6.75 14.2501H15.75C16.1642 14.2501 16.5 13.9143 16.5 13.5001C16.5 13.0859 16.1642 12.7501 15.75 12.7501H6.75Z" fill="#B8C6E3" />
            </svg>
            <span>Requests</span>
          </Link>
          <Link href='/objects/' className={styles.link}>
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" >
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.3942 3.18128C9.57675 2.53593 8.42325 2.53593 7.6058 3.18128L3.4808 6.43786C2.94033 6.86455 2.625 7.51524 2.625 8.20385V13.125C2.625 14.3677 3.63236 15.375 4.875 15.375H6V13.125C6 11.8824 7.00736 10.875 8.25 10.875H9.75C10.9926 10.875 12 11.8824 12 13.125V15.375H13.125C14.3676 15.375 15.375 14.3677 15.375 13.125V8.20385C15.375 7.51524 15.0597 6.86455 14.5192 6.43786L10.3942 3.18128ZM6.67634 2.00395C8.03874 0.928368 9.96126 0.92837 11.3237 2.00396L15.4487 5.26054C16.3495 5.97169 16.875 7.05617 16.875 8.20385V13.125C16.875 15.1961 15.1961 16.875 13.125 16.875H12C11.1716 16.875 10.5 16.2035 10.5 15.375V13.125C10.5 12.7108 10.1642 12.375 9.75 12.375H8.25C7.83579 12.375 7.5 12.7108 7.5 13.125V15.375C7.5 16.2035 6.82843 16.875 6 16.875H4.875C2.80393 16.875 1.125 15.1961 1.125 13.125V8.20385C1.125 7.05617 1.65054 5.97169 2.55133 5.26053L6.67634 2.00395Z" fill="#B8C6E3" />
            </svg>

            <span>Objects</span>
          </Link>
          <AnimatePresence initial={false}>
            {create && (
              <motion.div
                key='content'
                initial='collapsed'
                animate='open'
                exit='collapsed'
                variants={{
                  open: { opacity: 1, scale: 1 },
                  collapsed: { opacity: 0, scale: 0 },
                }}
                className={styles.create}
                style={{ overflow: 'hidden' }}
                transition={{ duration: 0.2, linear: [] }}
                onClick={() => setCreate(!create)}
              >
                <Link className={`blue-btn ${styles.create__btn}`} href={`/requests/create`}>Request</Link>
                <Link className={`blue-btn ${styles.create__btn}`} href={`/objects/create`}>Object</Link>
              </motion.div>
            )}

          </AnimatePresence>

          <button className={`blue-btn ${styles.btn}`} onClick={() => setCreate(!create)}>

            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" >
              <path fill-rule="evenodd" clip-rule="evenodd" d="M0.667968 7.00017C0.667968 6.44788 1.11568 6.00017 1.66797 6.00017L6.00143 6.00017L6.00143 1.66683C6.00143 1.11454 6.44915 0.666828 7.00143 0.666828C7.55372 0.666828 8.00143 1.11454 8.00143 1.66683L8.00143 6.00017L12.3346 6.00016C12.8869 6.00016 13.3346 6.44788 13.3346 7.00016C13.3346 7.55245 12.8869 8.00016 12.3346 8.00016L8.00143 8.00017L8.00143 12.3335C8.00143 12.8858 7.55372 13.3335 7.00143 13.3335C6.44915 13.3335 6.00143 12.8858 6.00143 12.3335L6.00143 8.00017L1.66797 8.00017C1.11568 8.00017 0.667968 7.55245 0.667968 7.00017Z" fill="white" />
            </svg>

          </button>
          <div className={styles.link}>
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" >
              <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9306 1.3125L11.931 1.3125C13.1434 1.3125 14.195 1.71351 14.9428 2.48524C15.6877 3.25405 16.0613 4.31858 16.0613 5.51775V12.4148C16.0613 13.6084 15.6904 14.6681 14.9516 15.4356C14.2101 16.2061 13.1668 16.6103 11.9634 16.6177L11.9587 16.6178L11.9544 16.6178L11.9416 16.6178L11.8927 16.6178L11.7085 16.6178L11.0539 16.6181L9.07201 16.6189L7.09198 16.6196L6.43968 16.6199L6.25695 16.62L6.20881 16.62L6.19647 16.62L6.19334 16.62H6.19256H6.19236L6.192 15.87L6.19229 16.62H6.192C4.97956 16.62 3.92808 16.219 3.18053 15.4472C2.43582 14.6783 2.0625 13.6138 2.0625 12.4148V5.51775C2.0625 4.32425 2.43314 3.26467 3.17175 2.49726C3.91314 1.72695 4.95631 1.32293 6.15963 1.31551L6.16425 1.31549V1.3155L6.16847 1.3155L6.1812 1.31549L6.23011 1.31547L6.41424 1.31537L7.06871 1.31503L9.05061 1.314L11.0308 1.31297L11.6832 1.31263L11.8659 1.31253L11.9141 1.31251L11.9264 1.3125L11.9296 1.3125L11.9303 1.3125L11.9305 1.3125L11.931 2.0625L11.9306 1.3125ZM11.9313 2.8125C11.9313 2.8125 11.9313 2.8125 11.9312 2.8125L11.9311 2.8125L11.931 2.8125L11.9303 2.8125L11.9272 2.8125L11.9149 2.81251L11.8667 2.81253L11.684 2.81263L11.0316 2.81297L9.05139 2.814L6.16686 2.8155C5.30121 2.82126 4.66917 3.10451 4.2525 3.53743C3.83273 3.97358 3.5625 4.63375 3.5625 5.51775V12.4148C3.5625 13.3037 3.83493 13.9668 4.25797 14.4036C4.67814 14.8374 5.31633 15.12 6.19177 15.12H6.19197M11.9313 2.8125C12.8067 2.81257 13.4451 3.09517 13.8655 3.52901C14.2887 3.96582 14.5613 4.62893 14.5613 5.51775V12.4148C14.5613 13.2986 14.2909 13.959 13.8709 14.3954C13.454 14.8286 12.8217 15.112 11.9562 15.1178C11.9555 15.1178 11.9548 15.1178 11.9541 15.1178L9.07143 15.1189L7.09139 15.1196L6.4391 15.1199L6.25636 15.12L6.20822 15.12L6.19588 15.12L6.19276 15.12H6.192M5.62181 5.89478C5.62181 5.48056 5.95759 5.14478 6.37181 5.14478H8.43806C8.85227 5.14478 9.18806 5.48056 9.18806 5.89478C9.18806 6.30899 8.85227 6.64478 8.43806 6.64478H6.37181C5.95759 6.64478 5.62181 6.30899 5.62181 5.89478ZM5.62172 9.02763C5.62172 8.61341 5.95751 8.27763 6.37172 8.27763H11.7867C12.2009 8.27763 12.5367 8.61341 12.5367 9.02763C12.5367 9.44184 12.2009 9.77763 11.7867 9.77763H6.37172C5.95751 9.77763 5.62172 9.44184 5.62172 9.02763ZM5.62172 12.1674C5.62172 11.7532 5.95751 11.4174 6.37172 11.4174H11.7867C12.2009 11.4174 12.5367 11.7532 12.5367 12.1674C12.5367 12.5816 12.2009 12.9174 11.7867 12.9174H6.37172C5.95751 12.9174 5.62172 12.5816 5.62172 12.1674Z" fill="#B8C6E3" />
            </svg>
            <span>Knowledge</span>
          </div>

          <div className={styles.link} onClick={() => setMore(!more)}>
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" >
              <path d="M6 9C6 9.55228 5.55228 10 5 10C4.44772 10 4 9.55228 4 9C4 8.44772 4.44772 8 5 8C5.55228 8 6 8.44772 6 9Z" fill="#B8C6E3" />
              <path d="M10 9C10 9.55228 9.55228 10 9 10C8.44772 10 8 9.55228 8 9C8 8.44772 8.44772 8 9 8C9.55228 8 10 8.44772 10 9Z" fill="#B8C6E3" />
              <path d="M14 9C14 9.55228 13.5523 10 13 10C12.4477 10 12 9.55228 12 9C12 8.44772 12.4477 8 13 8C13.5523 8 14 8.44772 14 9Z" fill="#B8C6E3" />
            </svg>

            <span>More</span>

          </div>
          <AnimatePresence initial={false}>
            {more && (
              <motion.div
                key='content'
                initial='collapsed'
                animate='open'
                exit='collapsed'
                variants={{
                  open: { opacity: 1, height: 'auto' },
                  collapsed: { opacity: 0, height: 0 },
                }}
                className={styles.more}
                style={{ overflow: 'hidden' }}
                transition={{ duration: 0.2, linear: [] }}
                onClick={() => setMore(!more)}
              >
                <Link className={styles.more__btn} href={`/requests/my`}>My request</Link>
                <Link className={styles.more__btn} href={`/objects/my`}>My object</Link>
              </motion.div>
            )}

          </AnimatePresence>

        </div>

      </div>
    </>

  )
}
